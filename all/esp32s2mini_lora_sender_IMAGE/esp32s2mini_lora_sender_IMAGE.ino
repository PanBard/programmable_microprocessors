#include <SPI.h>
#include <LoRa.h>

int counter = 0;
//---lora
#define ss 12  //MOSI: 11, MISO: 9, SCK: 7
#define rst 16
#define dio0 2
//---lora
String message;
void setup() {
  Serial.begin(9600);
 

  Serial.println("LoRa Sender");

  LoRa.setPins(ss, rst, dio0);
  if (!LoRa.begin(433E6)) {
    Serial.println("Starting LoRa failed!");
    while (1);
  }
  Serial.println("LoRa Sender ok");
  LoRa.setTxPower(20, PA_OUTPUT_PA_BOOST_PIN);
   Serial.println("LoRa Sender set tx power");
}

void loop() {
  Serial.print("Sending packet: ");
  Serial.println(counter);

  // send packet
  LoRa.beginPacket();
  LoRa.print("helloup ");
  LoRa.print(counter);
  LoRa.endPacket();

  counter++;
   run();
  delay(2000);
}

void run(){
  String base64data = "/9j/4AAQSkZJRgABAQEAkACQAAD/4RDSRXhpZgAATU0AKgAAAAgABAE7AAIAAAAESmFuAIdpAAQAAAABAAAISpydAAEAAAAIAAAQwuocAAcAAAgMAAAAPgAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFkAMAAgAAABQAABCYkAQAAgAAABQAABCskpEAAgAAAAM2MQAAkpIAAgAAAAM2MQAA6hwABwAACAwAAAiMAAAAABzqAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAyMzoxMDozMCAyMjo1NjowNgAyMDIzOjEwOjMwIDIyOjU2OjA2AAAASgBhAG4AAAD/4QsWaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyI+PHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIvPjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmZhZjViZGQ1LWJhM2QtMTFkYS1hZDMxLWQzM2Q3NTE4MmYxYiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj48eG1wOkNyZWF0ZURhdGU+MjAyMy0xMC0zMFQyMjo1NjowNi42MDc8L3htcDpDcmVhdGVEYXRlPjwvcmRmOkRlc2NyaXB0aW9uPjxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmZhZjViZGQ1LWJhM2QtMTFkYS1hZDMxLWQzM2Q3NTE4MmYxYiIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj48ZGM6Y3JlYXRvcj48cmRmOlNlcSB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPjxyZGY6bGk+SmFuPC9yZGY6bGk+PC9yZGY6U2VxPg0KCQkJPC9kYzpjcmVhdG9yPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/bAEMABwUFBgUEBwYFBggHBwgKEQsKCQkKFQ8QDBEY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";
  LoRa.beginPacket();
  LoRa.print("START");
  LoRa.endPacket();
  delay(1000);
  int l = base64data.length();
int k1 = 0;
int k2 = 200;
 for(int i=0; i<= (l/200); i++){
    // send packet
  message = base64data.substring(k1,k2);
  LoRa.beginPacket();
  LoRa.print(message);
  LoRa.endPacket();
  k1 = k2;
  k2 = k2+200;

  digitalWrite(LED_BUILTIN, HIGH);
  delayMicroseconds(10);
  digitalWrite(LED_BUILTIN, LOW);
  delay(100);
 }

  delay(500);
  LoRa.beginPacket();
  LoRa.print("SUM");
  LoRa.endPacket();
  delay(500);

  delay(500);
  LoRa.beginPacket();
  LoRa.print(String(base64data.length()));
  LoRa.endPacket();
  delay(500);

  delay(1000);
  LoRa.beginPacket();
  LoRa.print("END");
  LoRa.endPacket();
  delay(1000);
}
